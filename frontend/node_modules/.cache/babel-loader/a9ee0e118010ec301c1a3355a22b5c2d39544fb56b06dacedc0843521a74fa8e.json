{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:5033/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests if it exists\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Auth API\nexport const authAPI = {\n  login: (email, password) => api.post('/auth/login', {\n    email,\n    password\n  }),\n  // ✅ FIXED\n  register: (fullName, email, mobile, password) => api.post('/auth/register', {\n    fullName,\n    email,\n    mobile,\n    password\n  }),\n  getProfile: () => api.get('/user/profile')\n};\n\n/*export const authAPI = {\n  login: (email, password) => \n    api.post('/auth/login', { username: email, password }),\n  register: (fullName, email, mobile, password) =>\n    api.post('/auth/register', { fullName, email, mobile, password }),\n  getProfile: () => \n    api.get('/user/profile'),\n};*/\n\n// Products API\nexport const productsAPI = {\n  getAll: () => api.get('/products'),\n  search: (query, categoryId, minPrice, maxPrice) => api.get('/products/search', {\n    params: {\n      query,\n      categoryId,\n      minPrice,\n      maxPrice\n    }\n  }),\n  getById: id => api.get(`/products/${id}`)\n};\n\n// Cart API\nexport const cartAPI = {\n  view: () => api.get('/cart/view'),\n  add: (productId, quantity = 1) => api.post('/cart/add', {\n    productId,\n    quantity\n  }),\n  remove: productId => api.delete(`/cart/remove/${productId}`),\n  update: (productId, quantity) => api.put('/cart/update', {\n    productId,\n    quantity\n  })\n};\n\n// Orders API\nexport const ordersAPI = {\n  confirm: shippingAddressId => api.post('/order/confirm', {\n    shippingAddressId\n  }),\n  history: () => api.get('/order/history'),\n  getById: id => api.get(`/order/${id}`)\n};\n\n// Recommendations API (for AI agent)\nexport const recommendationsAPI = {\n  rank: (productIds, criteria) => api.post('/recommendations/rank', {\n    productIds,\n    criteria\n  })\n};\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport default api;\n\n/*\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5033/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const authAPI = {\n  login: (email, password) => \n    api.post('/auth/login', { email, password }),\n  register: (fullName, email, mobile, password) =>\n    api.post('/auth/register', { fullName, email, mobile, password }),\n  getProfile: () => \n    api.get('/user/profile'),\n};\n\nexport const productsAPI = {\n  getAll: () => \n    api.get('/products'),\n  search: (query, categoryId, minPrice, maxPrice) =>\n    api.get('/products/search', { params: { query, categoryId, minPrice, maxPrice } }),\n  getById: (id) => \n    api.get(`/products/${id}`), // Fixed syntax\n};\n\nexport const cartAPI = {\n  view: () => \n    api.get('/cart/view'),\n  add: (productId, quantity = 1) =>\n    api.post('/cart/add', { productId, quantity }),\n  remove: (productId) =>\n    api.delete(`/cart/remove/${productId}`), // Fixed syntax\n  update: (productId, quantity) =>\n    api.put('/cart/update', { productId, quantity }),\n};\n\nexport const ordersAPI = {\n  confirm: (shippingAddressId) =>\n    api.post('/order/confirm', { shippingAddressId }),\n  history: () =>\n    api.get('/order/history'),\n  getById: (id) =>\n    api.get(`/order/${id}`), // Fixed syntax\n};\n\nexport const recommendationsAPI = {\n  rank: (productIds, criteria) =>\n    api.post('/recommendations/rank', { productIds, criteria }),\n};\n\nexport default api;\n*/","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","authAPI","login","email","password","post","register","fullName","mobile","getProfile","get","productsAPI","getAll","search","query","categoryId","minPrice","maxPrice","params","getById","id","cartAPI","view","add","productId","quantity","remove","delete","update","put","ordersAPI","confirm","shippingAddressId","history","recommendationsAPI","rank","productIds","criteria"],"sources":["/home/sidhu/Desktop/ECommerceAPI/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5033/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests if it exists\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Auth API\nexport const authAPI = {\n  login: (email, password) =>\n    api.post('/auth/login', { email, password }), // ✅ FIXED\n  register: (fullName, email, mobile, password) =>\n    api.post('/auth/register', { fullName, email, mobile, password }),\n  getProfile: () => api.get('/user/profile'),\n};\n\n/*export const authAPI = {\n  login: (email, password) => \n    api.post('/auth/login', { username: email, password }),\n  register: (fullName, email, mobile, password) =>\n    api.post('/auth/register', { fullName, email, mobile, password }),\n  getProfile: () => \n    api.get('/user/profile'),\n};*/\n\n// Products API\nexport const productsAPI = {\n  getAll: () => \n    api.get('/products'),\n  \n  search: (query, categoryId, minPrice, maxPrice) =>\n    api.get('/products/search', { params: { query, categoryId, minPrice, maxPrice } }),\n  \n  getById: (id) => \n    api.get(`/products/${id}`),\n};\n\n// Cart API\nexport const cartAPI = {\n  view: () => \n    api.get('/cart/view'),\n  \n  add: (productId, quantity = 1) =>\n    api.post('/cart/add', { productId, quantity }),\n  \n  remove: (productId) =>\n    api.delete(`/cart/remove/${productId}`),\n  \n  update: (productId, quantity) =>\n    api.put('/cart/update', { productId, quantity }),\n};\n\n// Orders API\nexport const ordersAPI = {\n  confirm: (shippingAddressId) =>\n    api.post('/order/confirm', { shippingAddressId }),\n  \n  history: () =>\n    api.get('/order/history'),\n  \n  getById: (id) =>\n    api.get(`/order/${id}`),\n};\n\n// Recommendations API (for AI agent)\nexport const recommendationsAPI = {\n  rank: (productIds, criteria) =>\n    api.post('/recommendations/rank', { productIds, criteria }),\n};\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport default api;\n\n/*\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5033/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const authAPI = {\n  login: (email, password) => \n    api.post('/auth/login', { email, password }),\n  register: (fullName, email, mobile, password) =>\n    api.post('/auth/register', { fullName, email, mobile, password }),\n  getProfile: () => \n    api.get('/user/profile'),\n};\n\nexport const productsAPI = {\n  getAll: () => \n    api.get('/products'),\n  search: (query, categoryId, minPrice, maxPrice) =>\n    api.get('/products/search', { params: { query, categoryId, minPrice, maxPrice } }),\n  getById: (id) => \n    api.get(`/products/${id}`), // Fixed syntax\n};\n\nexport const cartAPI = {\n  view: () => \n    api.get('/cart/view'),\n  add: (productId, quantity = 1) =>\n    api.post('/cart/add', { productId, quantity }),\n  remove: (productId) =>\n    api.delete(`/cart/remove/${productId}`), // Fixed syntax\n  update: (productId, quantity) =>\n    api.put('/cart/update', { productId, quantity }),\n};\n\nexport const ordersAPI = {\n  confirm: (shippingAddressId) =>\n    api.post('/order/confirm', { shippingAddressId }),\n  history: () =>\n    api.get('/order/history'),\n  getById: (id) =>\n    api.get(`/order/${id}`), // Fixed syntax\n};\n\nexport const recommendationsAPI = {\n  rank: (productIds, criteria) =>\n    api.post('/recommendations/rank', { productIds, criteria }),\n};\n\nexport default api;\n*/"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}