{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:5033/api';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\n\n// ===================== ADDRESS API =====================\nconst LOCAL_ADDR_KEY = 'local_addresses';\n\n/**\n * Normalize address for comparison\n */\nfunction normalizeAddress(addr) {\n  return {\n    AddressLine1: (addr.AddressLine1 || '').trim().toLowerCase(),\n    City: (addr.City || '').trim().toLowerCase(),\n    PostalCode: (addr.PostalCode || '').trim().toLowerCase()\n  };\n}\nfunction isSameAddress(a, b) {\n  const A = normalizeAddress(a);\n  const B = normalizeAddress(b);\n  return A.AddressLine1 === B.AddressLine1 && A.City === B.City && A.PostalCode === B.PostalCode;\n}\n\n/**\n * Get local addresses (with legacy migration)\n */\nfunction getLocalAddresses() {\n  try {\n    // One-time legacy migration\n    const legacy = localStorage.getItem('addresses');\n    if (legacy) {\n      const parsed = JSON.parse(legacy);\n      if (Array.isArray(parsed)) {\n        localStorage.setItem(LOCAL_ADDR_KEY, JSON.stringify(parsed));\n      }\n      localStorage.removeItem('addresses');\n    }\n    const raw = localStorage.getItem(LOCAL_ADDR_KEY);\n    const parsed = raw ? JSON.parse(raw) : [];\n    return Array.isArray(parsed) ? parsed : [];\n  } catch {\n    return [];\n  }\n}\nfunction setLocalAddresses(addrs) {\n  localStorage.setItem(LOCAL_ADDR_KEY, JSON.stringify(addrs));\n}\n\n/**\n * Upsert WITHOUT duplicates\n */\nfunction upsertLocalAddress(addr) {\n  const list = getLocalAddresses();\n  const exists = list.find(a => isSameAddress(a, addr));\n  if (exists) return;\n  list.push(addr);\n  setLocalAddresses(list);\n}\nfunction removeLocalAddress(id) {\n  setLocalAddresses(getLocalAddresses().filter(a => a.id !== id));\n}\n// ===================== ADDRESS API =====================\n\n/* ========= INTERNAL HELPERS (SCOPED) ========= */\nconst _addrNormalize = v => (v || '').trim().toLowerCase();\nconst _addrEquals = (a, b) => _addrNormalize(a.AddressLine1) === _addrNormalize(b.AddressLine1) && _addrNormalize(a.City) === _addrNormalize(b.City) && _addrNormalize(a.PostalCode) === _addrNormalize(b.PostalCode);\nconst _getLocalAddresses = () => {\n  try {\n    // one-time legacy migration\n    const legacy = localStorage.getItem('addresses');\n    if (legacy) {\n      localStorage.setItem(LOCAL_ADDR_KEY, legacy);\n      localStorage.removeItem('addresses');\n    }\n    const raw = localStorage.getItem(LOCAL_ADDR_KEY);\n    const parsed = raw ? JSON.parse(raw) : [];\n    return Array.isArray(parsed) ? parsed : [];\n  } catch {\n    return [];\n  }\n};\nconst _setLocalAddresses = addrs => {\n  localStorage.setItem(LOCAL_ADDR_KEY, JSON.stringify(addrs));\n};\nconst _upsertLocalAddress = addr => {\n  const list = _getLocalAddresses();\n  if (list.some(a => _addrEquals(a, addr))) return;\n  list.push(addr);\n  _setLocalAddresses(list);\n};\nconst _removeLocalAddress = id => {\n  _setLocalAddresses(_getLocalAddresses().filter(a => a.id !== id));\n};\n\n/* ========= PUBLIC API ========= */\nexport const addressAPI = {\n  getAll: () => api.get('/user/addresses'),\n  add: address => api.post('/user/addresses', address).then(res => res.data),\n  update: (id, address) => api.put(`/user/addresses/${id}`, address).then(res => res.data),\n  remove: id => api.delete(`/user/addresses/${id}`).then(res => res.data),\n  saveAll: async addresses => {\n    const results = [];\n    for (const addr of addresses) {\n      try {\n        if (addr.id) {\n          results.push(await addressAPI.update(addr.id, addr));\n        } else {\n          results.push(await addressAPI.add(addr));\n        }\n      } catch {\n        results.push(addr);\n      }\n    }\n    return results;\n  },\n  /**\n   * Sync local â†’ server\n   * âš ï¸ Call ONLY once after login\n   */\n  syncLocalAddresses: async () => {\n    const local = _getLocalAddresses();\n    if (!local.length) return;\n\n    // ðŸ”‘ get logged-in user\n    let sessionUser = null;\n    try {\n      sessionUser = JSON.parse(sessionStorage.getItem('user') || 'null');\n    } catch {}\n    try {\n      const res = await api.get('/user/addresses');\n      const server = Array.isArray(res.data) ? res.data : [];\n      for (const addr of local) {\n        var _sessionUser, _sessionUser2;\n        const exists = server.some(s => _addrEquals(s, addr));\n        if (exists) {\n          _removeLocalAddress(addr.id);\n          continue;\n        }\n        const payload = {\n          ...addr\n        };\n        delete payload.id;\n\n        // âœ… attach ownership\n        if ((_sessionUser = sessionUser) !== null && _sessionUser !== void 0 && _sessionUser.id) payload.UserId = sessionUser.id;\n        if ((_sessionUser2 = sessionUser) !== null && _sessionUser2 !== void 0 && _sessionUser2.email) payload.OwnerEmail = sessionUser.email;\n        const r = await api.post('/user/addresses', payload);\n        if (r !== null && r !== void 0 && r.data) {\n          _removeLocalAddress(addr.id);\n        }\n      }\n    } catch (e) {\n      console.warn('Address sync failed', e);\n    }\n  },\n  clearLocalAddresses: () => _setLocalAddresses([]),\n  getLocalAddressById: id => _getLocalAddresses().find(a => a.id === id) || null\n};\n\n// ===================== AUTH API =====================\nexport const authAPI = {\n  login: (email, password) => api.post('/auth/login', {\n    email,\n    password\n  }),\n  register: (fullName, email, mobile, password) => api.post('/auth/register', {\n    fullName,\n    email,\n    mobile,\n    password\n  }),\n  getProfile: () => api.get('/user/profile')\n};\n\n// ===================== PRODUCTS API =====================\nexport const productsAPI = {\n  getAll: () => api.get('/products'),\n  search: query => api.get('/products/search', {\n    params: {\n      query: query || ''\n    }\n  }),\n  getById: id => api.get(`/products/${id}`)\n};\n\n// ===================== CART API =====================\nexport const cartAPI = {\n  view: () => api.get('/cart/view'),\n  add: data => api.post('/cart/add', data),\n  remove: productId => api.delete(`/cart/remove/${productId}`),\n  update: (productId, quantity) => api.put('/cart/update', {\n    productId,\n    quantity\n  }),\n  clear: () => api.delete('/cart/clear')\n};\n\n// ===================== ORDERS API =====================\nexport const ordersAPI = {\n  confirm: shippingAddressId => api.post('/order/confirm', {\n    shippingAddressId\n  }),\n  history: () => api.get('/order/history'),\n  getById: id => api.get(`/order/${id}`)\n};\n\n// ===================== RECOMMENDATIONS API =====================\nexport const recommendationsAPI = {\n  rank: (productIds, criteria) => api.post('/recommendations/rank', {\n    productIds,\n    criteria\n  })\n};\n\n// ===================== PAYMENT API =====================\nexport const paymentAPI = {\n  initiate: (orderId, amount, paymentMethod) => api.post('/payment/initiate', {\n    orderId,\n    amount,\n    paymentMethod\n  }),\n  verify: (paymentId, transactionId) => api.post('/payment/verify', {\n    paymentId,\n    transactionId\n  }),\n  getStatus: paymentId => api.get(`/payment/status/${paymentId}`)\n};\n\n// ===================== INVENTORY API =====================\nexport const inventoryAPI = {\n  getStock: productId => api.get(`/inventory/stock/${productId}`),\n  checkAvailability: (productId, quantity) => api.get('/inventory/check', {\n    params: {\n      productId,\n      quantity\n    }\n  })\n};\n\n// ===================== ADMIN API =====================\nexport function fetchUserDetails(userId) {\n  return api.get(`/admin/users/${userId}`).then(r => r.data);\n}\nexport const adminAPI = {\n  getDashboard: () => api.get('/admin/dashboard'),\n  getUsers: () => api.get('/admin/users'),\n  placeOrder: orderData => api.post('/order/place', orderData),\n  getOrders: () => api.get('/admin/orders'),\n  createProduct: data => api.post('/products', data),\n  updateProduct: (id, data) => api.put(`/products/${id}`, data),\n  deleteProduct: id => api.delete(`/products/${id}`),\n  fetchUserDetails\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","LOCAL_ADDR_KEY","normalizeAddress","addr","AddressLine1","trim","toLowerCase","City","PostalCode","isSameAddress","a","b","A","B","getLocalAddresses","legacy","localStorage","getItem","parsed","JSON","parse","Array","isArray","setItem","stringify","removeItem","raw","setLocalAddresses","addrs","upsertLocalAddress","list","exists","find","push","removeLocalAddress","id","filter","_addrNormalize","v","_addrEquals","_getLocalAddresses","_setLocalAddresses","_upsertLocalAddress","some","_removeLocalAddress","addressAPI","getAll","get","add","address","post","then","res","data","update","put","remove","delete","saveAll","addresses","results","syncLocalAddresses","local","length","sessionUser","sessionStorage","server","_sessionUser","_sessionUser2","s","payload","UserId","email","OwnerEmail","r","e","console","warn","clearLocalAddresses","getLocalAddressById","authAPI","login","password","register","fullName","mobile","getProfile","productsAPI","search","query","params","getById","cartAPI","view","productId","quantity","clear","ordersAPI","confirm","shippingAddressId","history","recommendationsAPI","rank","productIds","criteria","paymentAPI","initiate","orderId","amount","paymentMethod","verify","paymentId","transactionId","getStatus","inventoryAPI","getStock","checkAvailability","fetchUserDetails","userId","adminAPI","getDashboard","getUsers","placeOrder","orderData","getOrders","createProduct","updateProduct","deleteProduct"],"sources":["/home/sidhu/Desktop/ECommerceAPI/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5033/api';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\n\n// ===================== ADDRESS API =====================\nconst LOCAL_ADDR_KEY = 'local_addresses';\n\n/**\n * Normalize address for comparison\n */\nfunction normalizeAddress(addr) {\n  return {\n    AddressLine1: (addr.AddressLine1 || '').trim().toLowerCase(),\n    City: (addr.City || '').trim().toLowerCase(),\n    PostalCode: (addr.PostalCode || '').trim().toLowerCase()\n  };\n}\n\nfunction isSameAddress(a, b) {\n  const A = normalizeAddress(a);\n  const B = normalizeAddress(b);\n  return (\n    A.AddressLine1 === B.AddressLine1 &&\n    A.City === B.City &&\n    A.PostalCode === B.PostalCode\n  );\n}\n\n/**\n * Get local addresses (with legacy migration)\n */\nfunction getLocalAddresses() {\n  try {\n    // One-time legacy migration\n    const legacy = localStorage.getItem('addresses');\n    if (legacy) {\n      const parsed = JSON.parse(legacy);\n      if (Array.isArray(parsed)) {\n        localStorage.setItem(LOCAL_ADDR_KEY, JSON.stringify(parsed));\n      }\n      localStorage.removeItem('addresses');\n    }\n\n    const raw = localStorage.getItem(LOCAL_ADDR_KEY);\n    const parsed = raw ? JSON.parse(raw) : [];\n    return Array.isArray(parsed) ? parsed : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction setLocalAddresses(addrs) {\n  localStorage.setItem(LOCAL_ADDR_KEY, JSON.stringify(addrs));\n}\n\n/**\n * Upsert WITHOUT duplicates\n */\nfunction upsertLocalAddress(addr) {\n  const list = getLocalAddresses();\n\n  const exists = list.find(a => isSameAddress(a, addr));\n  if (exists) return;\n\n  list.push(addr);\n  setLocalAddresses(list);\n}\n\nfunction removeLocalAddress(id) {\n  setLocalAddresses(getLocalAddresses().filter(a => a.id !== id));\n}\n// ===================== ADDRESS API =====================\n\n\n/* ========= INTERNAL HELPERS (SCOPED) ========= */\nconst _addrNormalize = (v) => (v || '').trim().toLowerCase();\n\nconst _addrEquals = (a, b) => (\n  _addrNormalize(a.AddressLine1) === _addrNormalize(b.AddressLine1) &&\n  _addrNormalize(a.City) === _addrNormalize(b.City) &&\n  _addrNormalize(a.PostalCode) === _addrNormalize(b.PostalCode)\n);\n\nconst _getLocalAddresses = () => {\n  try {\n    // one-time legacy migration\n    const legacy = localStorage.getItem('addresses');\n    if (legacy) {\n      localStorage.setItem(LOCAL_ADDR_KEY, legacy);\n      localStorage.removeItem('addresses');\n    }\n\n    const raw = localStorage.getItem(LOCAL_ADDR_KEY);\n    const parsed = raw ? JSON.parse(raw) : [];\n    return Array.isArray(parsed) ? parsed : [];\n  } catch {\n    return [];\n  }\n};\n\nconst _setLocalAddresses = (addrs) => {\n  localStorage.setItem(LOCAL_ADDR_KEY, JSON.stringify(addrs));\n};\n\nconst _upsertLocalAddress = (addr) => {\n  const list = _getLocalAddresses();\n  if (list.some(a => _addrEquals(a, addr))) return;\n  list.push(addr);\n  _setLocalAddresses(list);\n};\n\nconst _removeLocalAddress = (id) => {\n  _setLocalAddresses(_getLocalAddresses().filter(a => a.id !== id));\n};\n\n/* ========= PUBLIC API ========= */\nexport const addressAPI = {\n  getAll: () => api.get('/user/addresses'),\n\n  add: (address) =>\n    api.post('/user/addresses', address).then(res => res.data),\n\n  update: (id, address) =>\n    api.put(`/user/addresses/${id}`, address).then(res => res.data),\n\n  remove: (id) =>\n    api.delete(`/user/addresses/${id}`).then(res => res.data),\n\n  saveAll: async (addresses) => {\n    const results = [];\n    for (const addr of addresses) {\n      try {\n        if (addr.id) {\n          results.push(await addressAPI.update(addr.id, addr));\n        } else {\n          results.push(await addressAPI.add(addr));\n        }\n      } catch {\n        results.push(addr);\n      }\n    }\n    return results;\n  },\n\n  /**\n   * Sync local â†’ server\n   * âš ï¸ Call ONLY once after login\n   */\n  syncLocalAddresses: async () => {\n  const local = _getLocalAddresses();\n  if (!local.length) return;\n\n  // ðŸ”‘ get logged-in user\n  let sessionUser = null;\n  try {\n    sessionUser = JSON.parse(sessionStorage.getItem('user') || 'null');\n  } catch {}\n\n  try {\n    const res = await api.get('/user/addresses');\n    const server = Array.isArray(res.data) ? res.data : [];\n\n    for (const addr of local) {\n      const exists = server.some(s => _addrEquals(s, addr));\n      if (exists) {\n        _removeLocalAddress(addr.id);\n        continue;\n      }\n\n      const payload = { ...addr };\n      delete payload.id;\n\n      // âœ… attach ownership\n      if (sessionUser?.id) payload.UserId = sessionUser.id;\n      if (sessionUser?.email) payload.OwnerEmail = sessionUser.email;\n\n      const r = await api.post('/user/addresses', payload);\n      if (r?.data) {\n        _removeLocalAddress(addr.id);\n      }\n    }\n  } catch (e) {\n    console.warn('Address sync failed', e);\n  }\n}\n,\n\n  clearLocalAddresses: () => _setLocalAddresses([]),\n\n  getLocalAddressById: (id) =>\n    _getLocalAddresses().find(a => a.id === id) || null\n};\n\n// ===================== AUTH API =====================\nexport const authAPI = {\n  login: (email, password) => api.post('/auth/login', { email, password }),\n  register: (fullName, email, mobile, password) => api.post('/auth/register', { fullName, email, mobile, password }),\n  getProfile: () => api.get('/user/profile')\n};\n\n// ===================== PRODUCTS API =====================\nexport const productsAPI = {\n  getAll: () => api.get('/products'),\n  search: (query) => api.get('/products/search', { params: { query: query || '' } }),\n  getById: (id) => api.get(`/products/${id}`)\n};\n\n// ===================== CART API =====================\nexport const cartAPI = {\n  view: () => api.get('/cart/view'),\n  add: (data) => api.post('/cart/add', data),\n  remove: (productId) => api.delete(`/cart/remove/${productId}`),\n  update: (productId, quantity) => api.put('/cart/update', { productId, quantity }),\n  clear: () => api.delete('/cart/clear')\n};\n\n// ===================== ORDERS API =====================\nexport const ordersAPI = {\n  confirm: (shippingAddressId) => api.post('/order/confirm', { shippingAddressId }),\n  history: () => api.get('/order/history'),\n  getById: (id) => api.get(`/order/${id}`)\n};\n\n// ===================== RECOMMENDATIONS API =====================\nexport const recommendationsAPI = {\n  rank: (productIds, criteria) => api.post('/recommendations/rank', { productIds, criteria })\n};\n\n// ===================== PAYMENT API =====================\nexport const paymentAPI = {\n  initiate: (orderId, amount, paymentMethod) => api.post('/payment/initiate', { orderId, amount, paymentMethod }),\n  verify: (paymentId, transactionId) => api.post('/payment/verify', { paymentId, transactionId }),\n  getStatus: (paymentId) => api.get(`/payment/status/${paymentId}`)\n};\n\n// ===================== INVENTORY API =====================\nexport const inventoryAPI = {\n  getStock: (productId) => api.get(`/inventory/stock/${productId}`),\n  checkAvailability: (productId, quantity) => api.get('/inventory/check', { params: { productId, quantity } })\n};\n\n// ===================== ADMIN API =====================\nexport function fetchUserDetails(userId) {\n  return api.get(`/admin/users/${userId}`).then(r => r.data);\n}\n\nexport const adminAPI = {\n  getDashboard: () => api.get('/admin/dashboard'),\n  getUsers: () => api.get('/admin/users'),\n  placeOrder: (orderData) => api.post('/order/place', orderData),\n  getOrders: () => api.get('/admin/orders'),\n  createProduct: (data) => api.post('/products', data),\n  updateProduct: (id, data) => api.put(`/products/${id}`, data),\n  deleteProduct: (id) => api.delete(`/products/${id}`),\n  fetchUserDetails\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}